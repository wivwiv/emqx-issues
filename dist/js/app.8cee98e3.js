(function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],p=0,d=[];p<o.length;p++)s=o[p],i[s]&&d.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("d3b7")},"513b":function(t,e,n){},bcd5:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"header"},[t._m(0),n("button",{on:{click:t.loadData}},[t._v("\n      "+t._s(t.loading?"加载中":"刷新")+"\n    ")]),n("span",{staticClass:"item-label time-label"},[t._v(t._s(t.reloadDate))]),n("span",{staticClass:"item-label time-label dark"},[t._v("\n      自动刷新 "+t._s(t.exp)+"\n\n      "),n("span",{staticClass:"item-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inv,expression:"inv"}],attrs:{name:"d",type:"radio"},domProps:{value:60,checked:t._q(t.inv,60)},on:{change:function(e){t.inv=60}}}),t._v(" 1 分钟\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inv,expression:"inv"}],attrs:{name:"d",type:"radio"},domProps:{value:180,checked:t._q(t.inv,180)},on:{change:function(e){t.inv=180}}}),t._v(" 3 分钟\n      ")]),n("button",{staticStyle:{float:"right"},on:{click:t.checkNotice}},[t._v("\n        启用通知\n      ")])])]),n("ul",t._l(t.list,function(e){return n("li",{key:e.id,staticClass:"item-list",class:{is_new:e.not_reply}},[n("div",{staticClass:"user-info"},[n("img",{staticClass:"user-avatar",attrs:{src:e.user.avatar_url,alt:e.user.login}}),n("span",[t._v(" "+t._s(e.user.login)+" ")])]),n("div",{staticClass:"item",attrs:{title:e.body||"暂无"}},[n("a",{attrs:{href:e.html_url,target:"_blank"}},[t._v("\n          "+t._s(e.title)+"\n        ")]),n("div",{staticClass:"item-footer"},[e.is_new?n("span",{staticClass:"item-label is-new"},[t._v("\n            新增\n          ")]):t._e(),e.not_reply?n("span",{staticClass:"item-label is-new"},[t._v("\n            未回复\n          ")]):t._e(),n("span",{staticClass:"item-label"},[t._v(t._s(t._f("date")(e.created_at)))]),n("span",{staticClass:"btn item-label"},[t._v("详情")]),n("a",{staticClass:"btn item-label",attrs:{href:e.html_url,target:"_blank"}},[t._v("\n            查看\n          ")]),e.not_reply?n("span",{staticClass:"btn item-label",on:{click:function(n){t.delApply(e)}}},[t._v("\n            忽略\n          ")]):t._e()])])])}))])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",[t._v("\n      issues 面板\n      "),n("span",{staticClass:"item-label time-label"},[t._v("更新时间降序")])])}],r=n("6c11"),s=(n("abd2"),n("96cf"),n("1653")),o=(n("5ec2"),n("f18d"),n("d143"),"https://api.github.com/repos/emqx/emqx/issues?sort=updated&"),c={name:"Main",data:function(){return{loading:!1,reloadDate:"",list:[],inv:60,timer:0,exp:60,expTimer:0}},watch:{inv:function(t){clearInterval(this.timer),this.timer=setInterval(this.loadData,1e3*t)}},methods:{__exp:function(){var t=this;clearInterval(this.expTimer),this.expTimer=clearInterval(function(){t.exp-=1},1e3)},checkNotice:function(){this.notice({})},notice:function(t){var e=t.title,n=void 0===e?"通知已启用":e,a=t.body,i=void 0===a?"浏览器的通知已启用成功":a;Notification.requestPermission(function(t){new Notification(n,{body:i})})},setS:function(t){localStorage.setItem("s",JSON.stringify(t))},getS:function(){return JSON.parse(localStorage.getItem("s")||"{}")},getData:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=[],n=1;case 2:if(!(n<=3)){t.next=13;break}return t.next=5,fetch(o+"page=".concat(n));case 5:return a=t.sent,t.next=8,a.json();case 8:i=t.sent,e=e.concat(i);case 10:n++,t.next=2;break;case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),delApply:function(t){var e=this.getS();e[t.id]=e[t.id]||{},e[t.id].delApply=!0,this.setS(e),t.not_reply=!1},loadData:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.getData();case 4:if(e=t.sent,n=this.getS(),a={},i=0,s=0,e=e.map(function(t){var e=n[t.id]||{};return a[t.id]=Object(r["a"])({},e,{comments:t.comments}),t.is_new=t.comments>e.comments,t.is_new&&(s+=1),t.not_reply=0===t.comments&&!0!==e.delApply,0===t.comments&&!0!==e.delApply&&(i+=1),t}),this.list=e,this.setS(a),this.__exp(),0!==i||0!==s){t.next=15;break}return t.abrupt("return");case 15:this.notice({title:"EMQ X issues 提醒",body:"你有 ".concat(i," 条未回复的 issues, ").concat(s," 条新动态")}),t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](1),console.log(t.t0),this.loading=!1;case 22:this.loading=!1,this.reloadDate=this.getNow();case 24:case"end":return t.stop()}},t,this,[[1,18]])}));return function(){return t.apply(this,arguments)}}(),getNow:function(){var t=new Date;return"".concat(t.toLocaleTimeString())}},filters:{date:function(t){if(!t)return"N/A";var e=new Date(t);return"".concat(e.toLocaleDateString()," ").concat(e.toLocaleTimeString())}},created:function(){Notification.requestPermission(function(t){}),this.loadData(),clearInterval(this.timer),this.timer=setInterval(this.loadData,1e3*this.inv)}},l=c,u=(n("e5cd"),n("f08f")),p=Object(u["a"])(l,a,i,!1,null,null,null);p.options.__file="App.vue";e["a"]=p.exports},e5cd:function(t,e,n){"use strict";var a=n("513b"),i=n.n(a);i.a}});
//# sourceMappingURL=app.8cee98e3.js.map